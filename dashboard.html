<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XDEVIL EARNING - Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Extra safety CSS for Modal visibility */
        .modal {
            display: none; 
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }
        .modal.active {
            display: flex !important;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="nav">
        <div class="container nav-flex">
            <h2 class="brand">XDEVIL <span>EARNING</span></h2>
            <div class="user-meta">
                <span id="user-email">Loading...</span>
                <button id="logout-btn" class="logout-link">Logout</button>
            </div>
        </div>
    </nav>

    <div class="container main-content">
        <!-- Balance Display Section -->
        <section class="balance-section">
            <div class="balance-card">
                <p>Available Balance</p>
                <h1 id="balance-val">₹0.00</h1>
                <button id="open-withdraw" class="btn-withdraw">Redeem Rewards</button>
            </div>
        </section>

        <!-- High Earning Tasks -->
        <h3 class="section-label">Premium Tasks</h3>
        <div class="task-grid">
            <!-- CPAGrip -->
            <div class="card">
                <div class="badge">₹0.50</div>
                <h4>CPAGrip Survey</h4>
                <p>Verify you're human to earn.</p>
                <button class="task-trigger" data-url="https://playabledownloads.com/1869976/XDEVILEARNING" data-time="30" data-reward="0.5">Start Task (30s)</button>
            </div>

            <!-- EZMOB -->
            <div class="card highlight">
                <div class="badge">₹5-15</div>
                <h4>EZMOB App Install</h4>
                <p>Special high-reward task.</p>
                <button class="task-trigger" data-url="https://xml.qualiclicks.com/redirect?feed=1054597&auth=jJeR&url=https://munnaff999.github.io/Telegram-earning/&subid=&query=" data-time="60" data-reward="random">Start Task (60s)</button>
            </div>
        </div>

        <!-- Monetag Surveys (5 Separate Buttons) -->
        <h3 class="section-label">Monetag Quick Tasks</h3>
        <div class="task-grid">
            <div class="card">
                <div class="badge">₹1.00</div>
                <h4>Task Alpha</h4>
                <button class="task-trigger" data-url="https://otieu.com/4/10508140" data-time="30" data-reward="1">Claim Reward</button>
            </div>
            <div class="card">
                <div class="badge">₹1.00</div>
                <h4>Task Beta</h4>
                <button class="task-trigger" data-url="https://otieu.com/4/10508130" data-time="30" data-reward="1">Claim Reward</button>
            </div>
            <div class="card">
                <div class="badge">₹1.00</div>
                <h4>Task Gamma</h4>
                <button class="task-trigger" data-url="https://otieu.com/4/10507919" data-time="30" data-reward="1">Claim Reward</button>
            </div>
            <div class="card">
                <div class="badge">₹1.00</div>
                <h4>Task Delta</h4>
                <button class="task-trigger" data-url="https://otieu.com/4/10508135" data-time="30" data-reward="1">Claim Reward</button>
            </div>
            <div class="card">
                <div class="badge">₹1.00</div>
                <h4>Task Epsilon</h4>
                <button class="task-trigger" data-url="https://otieu.com/4/10508127" data-time="30" data-reward="1">Claim Reward</button>
            </div>
        </div>
    </div>

    <!-- WITHDRAW MODAL (Fixed Structure) -->
    <div id="withdraw-modal" class="modal">
        <div class="modal-content">
            <h2 style="color: #7c3aed; margin-bottom: 10px;">Withdraw Funds</h2>
            <p style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 20px;">Minimum Withdrawal: ₹200</p>
            
            <label style="display: block; text-align: left; font-size: 0.8rem; margin-bottom: 5px;">Amount (₹)</label>
            <input type="number" id="w-amount" placeholder="e.g. 250" min="200">
            
            <label style="display: block; text-align: left; font-size: 0.8rem; margin-top: 15px; margin-bottom: 5px;">UPI ID</label>
            <input type="text" id="w-upi" placeholder="example@ybl">
            
            <div class="modal-btns">
                <button id="close-modal" style="background: #2d2d35; color: white; flex: 1; border: none; padding: 12px; border-radius: 10px; cursor: pointer;">Cancel</button>
                <button id="submit-withdraw" class="btn-primary" style="flex: 2;">Submit Request</button>
            </div>
        </div>
    </div>

    <!-- Firebase Logic -->
    <script type="module" src="dashboard.js"></script>
</body>
</html>
